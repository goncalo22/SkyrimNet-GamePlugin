<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Memory System/memory-recall" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Memory System | SkyrimNet Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://goncalo22.github.io/SkyrimNet-GamePlugin/img/Skyrimnet svg wborder icon.svg"><meta data-rh="true" name="twitter:image" content="https://goncalo22.github.io/SkyrimNet-GamePlugin/img/Skyrimnet svg wborder icon.svg"><meta data-rh="true" property="og:url" content="https://goncalo22.github.io/SkyrimNet-GamePlugin/Memory System/memory-recall"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="24A26FDBCAD11C73"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Memory System | SkyrimNet Documentation"><meta data-rh="true" name="description" content="SkyrimNet’s memory system gives NPCs long-term, context-aware memory — enabling immersive behaviors, dynamic relationships, and narrative consistency. Each memory is generated from actual in-game events and can influence dialogue, emotional state, or behavior."><meta data-rh="true" property="og:description" content="SkyrimNet’s memory system gives NPCs long-term, context-aware memory — enabling immersive behaviors, dynamic relationships, and narrative consistency. Each memory is generated from actual in-game events and can influence dialogue, emotional state, or behavior."><link data-rh="true" rel="icon" href="/SkyrimNet-GamePlugin/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://goncalo22.github.io/SkyrimNet-GamePlugin/Memory System/memory-recall"><link data-rh="true" rel="alternate" href="https://goncalo22.github.io/SkyrimNet-GamePlugin/Memory System/memory-recall" hreflang="en"><link data-rh="true" rel="alternate" href="https://goncalo22.github.io/SkyrimNet-GamePlugin/Memory System/memory-recall" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Memory System","item":"https://goncalo22.github.io/SkyrimNet-GamePlugin/Memory System/memory-recall"}]}</script><link rel="alternate" type="application/rss+xml" href="/SkyrimNet-GamePlugin/blog/rss.xml" title="SkyrimNet Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/SkyrimNet-GamePlugin/blog/atom.xml" title="SkyrimNet Documentation Atom Feed"><link rel="stylesheet" href="/SkyrimNet-GamePlugin/assets/css/styles.93286bb9.css">
<script src="/SkyrimNet-GamePlugin/assets/js/runtime~main.01c561cb.js" defer="defer"></script>
<script src="/SkyrimNet-GamePlugin/assets/js/main.92d2c11a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/SkyrimNet-GamePlugin/img/logogreen.png"><link rel="preload" as="image" href="/SkyrimNet-GamePlugin/img/greybeard.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/SkyrimNet-GamePlugin/"><div class="navbar__logo"><img src="/SkyrimNet-GamePlugin/img/logogreen.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/SkyrimNet-GamePlugin/img/logogreen.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SkyrimNet</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/SkyrimNet-GamePlugin/Features/overview">Tutorial</a><a class="navbar__item navbar__link" href="/SkyrimNet-GamePlugin/Skyrimnet API/api">API</a><a class="navbar__item navbar__link" href="/SkyrimNet-GamePlugin/web-ui">Web UI</a><a class="navbar__item navbar__link" href="/SkyrimNet-GamePlugin/walkthroughs">Walkthroughs</a><a class="navbar__item navbar__link" href="/SkyrimNet-GamePlugin/blog">Releases</a><a class="navbar__item navbar__link" href="/SkyrimNet-GamePlugin/faq">FAQ</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item"><div id="docsearch"></div></div><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/Features/overview">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/Installation Guide/dependencies">Installation Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/Large Language Models/model-agents">Large Language Models</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/SkyrimNet-GamePlugin/Memory System/sqlite-storage">Memory System</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SkyrimNet-GamePlugin/Memory System/sqlite-storage">SQLite storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/SkyrimNet-GamePlugin/Memory System/memory-recall">Memory System</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/Prompts/prompts">Prompts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/NPC Bios/dynamic-bios">NPC Bios</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/Text to Speech/tts-getting-started">Text to Speech</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/Speech to Text/local-whisper">Speech to Text</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/SkyrimNet-GamePlugin/Vast.ai/vast-ai">Vast.ai</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/SkyrimNet-GamePlugin/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Memory System</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Memory System</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SkyrimNet Memory System</h1></header>
<p align="center"><img src="/SkyrimNet-GamePlugin/img/greybeard.png" alt="vast" width="450"></p>
<p>SkyrimNet’s memory system gives NPCs long-term, context-aware memory — enabling immersive behaviors, dynamic relationships, and narrative consistency. Each memory is generated from actual in-game events and can influence dialogue, emotional state, or behavior.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-overview">📌 Overview<a href="#-overview" class="hash-link" aria-label="Direct link to 📌 Overview" title="Direct link to 📌 Overview">​</a></h2>
<p>NPCs in SkyrimNet remember what happens around them. Their memories aren’t static — they form, change, and are recalled based on relevance. These memories are built from real events, like conversations, combat, or discoveries, and can persist for the entire game.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-how-memories-work-in-skyrimnet">🧠 How Memories Work in SkyrimNet<a href="#-how-memories-work-in-skyrimnet" class="hash-link" aria-label="Direct link to 🧠 How Memories Work in SkyrimNet" title="Direct link to 🧠 How Memories Work in SkyrimNet">​</a></h3>
<p>In <strong>SkyrimNet</strong>, characters can remember what happens around them — just like people. These memories help shape their responses, personalities, and decisions.</p>
<p>Every time something important occurs (like a conversation, a fight, or a strange encounter), a memory may be created. These memories store:</p>
<ul>
<li><strong>What happened</strong> (a short story or description)</li>
<li><strong>Where it happened</strong></li>
<li><strong>Who was involved</strong></li>
<li><strong>How they felt about it</strong></li>
<li><strong>How important it was</strong></li>
</ul>
<blockquote>
<p>Example:<br>
<!-- -->A vampire NPC might remember turning a player into a thrall, and that memory could make them act possessively or feel proud. These memories help make SkyrimNet characters feel more alive and consistent.</p>
</blockquote>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-memory-lifecycle">🔄 Memory Lifecycle<a href="#-memory-lifecycle" class="hash-link" aria-label="Direct link to 🔄 Memory Lifecycle" title="Direct link to 🔄 Memory Lifecycle">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-event-collection">1. <strong>Event Collection</strong><a href="#1-event-collection" class="hash-link" aria-label="Direct link to 1-event-collection" title="Direct link to 1-event-collection">​</a></h3>
<p>NPCs continuously observe and participate in game events:</p>
<ul>
<li>Conversations</li>
<li>Combat</li>
<li>Item transactions</li>
<li>Proximity to notable actions or actors</li>
</ul>
<p>Each event is timestamped and stored with metadata (e.g., actors, location, emotion, tags).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-segmentation">2. <strong>Segmentation</strong><a href="#2-segmentation" class="hash-link" aria-label="Direct link to 2-segmentation" title="Direct link to 2-segmentation">​</a></h3>
<p>Events are grouped into <strong>memorable segments</strong> based on:</p>
<ul>
<li>Time gaps (<code>max_gap</code>: 60 minutes)</li>
<li>Duration limits (10–480 minutes)</li>
<li>Number of events (min: 5, max: 200)</li>
</ul>
<p>This forms coherent memory blocks like:</p>
<ul>
<li>A full dungeon crawl</li>
<li>A heated argument and its aftermath</li>
<li>A romantic or traumatic moment</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-memory-generation">3. <strong>Memory Generation</strong><a href="#3-memory-generation" class="hash-link" aria-label="Direct link to 3-memory-generation" title="Direct link to 3-memory-generation">​</a></h3>
<p>An LLM summarizes the event segment into a first-person narrative:</p>
<ul>
<li>Describes <strong>what happened</strong>, <strong>who was there</strong>, and <strong>how it felt</strong></li>
<li>Uses specific places, names, and emotional context</li>
<li>Follows configurable prompts for tone, detail, and format</li>
</ul>
<p>Each memory is stored with:</p>
<ul>
<li>A <strong>summary</strong> and <strong>details</strong></li>
<li><strong>Emotion tag</strong> (<code>joyful</code>, <code>angry</code>, <code>fearful</code>, etc.)</li>
<li><strong>Importance score</strong> (0.0–1.0)</li>
<li><strong>Tags</strong> (people, places, activities, items, emotions)</li>
<li><strong>Memory type</strong> (e.g., <code>EXPERIENCE</code>, <code>TRAUMA</code>, <code>RELATIONSHIP</code>)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-embedding--storage">4. <strong>Embedding &amp; Storage</strong><a href="#4-embedding--storage" class="hash-link" aria-label="Direct link to 4-embedding--storage" title="Direct link to 4-embedding--storage">​</a></h3>
<p>Each memory is embedded using <code>MiniLM-L6-v2</code> (384-dimensional vectors) and stored in a <strong>SQLite</strong> database with an <strong>HNSW vector index</strong> for similarity search.</p>
<p>Storage is optimized:</p>
<ul>
<li>Max memories per actor: <code>1000</code></li>
<li>Min importance to store: <code>0.2</code></li>
<li>Async memory generation: 10 threads × 100 batch size</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-memory-retrieval">🧠 Memory Retrieval<a href="#-memory-retrieval" class="hash-link" aria-label="Direct link to 🧠 Memory Retrieval" title="Direct link to 🧠 Memory Retrieval">​</a></h2>
<p>When an NPC needs to recall, SkyrimNet uses:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-semantic-vector-search">🔎 Semantic Vector Search<a href="#-semantic-vector-search" class="hash-link" aria-label="Direct link to 🔎 Semantic Vector Search" title="Direct link to 🔎 Semantic Vector Search">​</a></h3>
<ul>
<li>Uses HNSW + cosine similarity</li>
<li>Embedding model: <code>MiniLM-L6-v2</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-relevance-scoring-weights">🧮 Relevance Scoring Weights<a href="#-relevance-scoring-weights" class="hash-link" aria-label="Direct link to 🧮 Relevance Scoring Weights" title="Direct link to 🧮 Relevance Scoring Weights">​</a></h3>
<p>Each candidate memory is scored with the following weights:</p>
<table><thead><tr><th>Signal</th><th>Weight</th></tr></thead><tbody><tr><td>Semantic similarity</td><td>0.35</td></tr><tr><td>Temporal proximity</td><td>0.20</td></tr><tr><td>Actor involvement</td><td>0.20</td></tr><tr><td>Emotional match</td><td>0.10</td></tr><tr><td>Keyword relevance</td><td>0.10</td></tr><tr><td>Location match</td><td>0.05</td></tr></tbody></table>
<p>Memories are ranked by score, and only those passing thresholds are considered relevant. You can change those in the settings, but for instance, raising the minimum relevance score would mean that the memories are still stored but npcs wont remember the very mundane events.</p>
<p>By default there are five memories that are retrieved ( changeable from 1 to 10), ranked by importance and relevance to the ocasion.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-memory-types">🧪 Memory Types<a href="#-memory-types" class="hash-link" aria-label="Direct link to 🧪 Memory Types" title="Direct link to 🧪 Memory Types">​</a></h2>
<ul>
<li><code>EXPERIENCE</code>: General lived moments</li>
<li><code>RELATIONSHIP</code>: Interpersonal dynamics</li>
<li><code>KNOWLEDGE</code>: Learning or realization</li>
<li><code>LOCATION</code>: Place-linked impressions</li>
<li><code>SKILL</code>: Practice or improvement</li>
<li><code>TRAUMA</code>: Fearful or harmful events</li>
<li><code>JOY</code>: Happiness, pride, or relief</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-use-cases">🔥 Use Cases<a href="#-use-cases" class="hash-link" aria-label="Direct link to 🔥 Use Cases" title="Direct link to 🔥 Use Cases">​</a></h2>
<ul>
<li><strong>Dynamic Dialogue</strong>: NPCs reference past conversations, betrayals, or help.</li>
<li><strong>Behavioral Logic</strong>: Memory of fear or violence can make NPCs hostile or cautious.</li>
<li><strong>Relationship Tracking</strong>: NPCs track favor, betrayal, romance, or tension.</li>
<li><strong>Emergent AI</strong>: The world remembers what you do — and reacts accordingly.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-technical-stack">🛠 Technical Stack<a href="#-technical-stack" class="hash-link" aria-label="Direct link to 🛠 Technical Stack" title="Direct link to 🛠 Technical Stack">​</a></h2>
<ul>
<li><strong>Embedding Model</strong>: <code>MiniLM-L6-v2</code></li>
<li><strong>Vector Store</strong>: SQLite + HNSW (Ef=200, M=16)</li>
<li><strong>Prompt Templates</strong>: Editable <code>.inja</code> files for each memory type</li>
<li><strong>Memory Processing</strong>: Fully in-DLL, async-safe, mod-editable</li>
<li><strong>Interaction</strong>: Via Custom Actions, YAML logic, and LLM context queries</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-related-tools">🧰 Related Tools<a href="#-related-tools" class="hash-link" aria-label="Direct link to 🧰 Related Tools" title="Direct link to 🧰 Related Tools">​</a></h2>
<ul>
<li><code>Memory Creator</code>: Generates full first-person narrative memories.</li>
<li><code>Memory Ranker</code>: Scores and selects relevant memories for LLM prompts.</li>
<li><code>Event Analyzer</code>: Filters raw event streams for memory-worthiness.</li>
<li><code>Custom Action Designer</code>: Hooks behavior to memory conditions.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-example-memory">📦 Example Memory<a href="#-example-memory" class="hash-link" aria-label="Direct link to 📦 Example Memory" title="Direct link to 📦 Example Memory">​</a></h2>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;content&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;I still remember watching the prisoner bleed out that Thalmor agent at Northwatch Keep. I wasn’t ready for how fast it happened.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;location&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Northwatch Keep&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;emotion&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;surprised&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;importance_score&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.85</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;tags&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;prisoner&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;thalmor&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;northwatch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;murder&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fear&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;stealth&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;betrayal&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;TRAUMA&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-integration">🧩 Integration<a href="#-integration" class="hash-link" aria-label="Direct link to 🧩 Integration" title="Direct link to 🧩 Integration">​</a></h2>
<p>SkyrimNet can feed these memories into:</p>
<ul>
<li>
<p><strong>NPC Dialogue Generation</strong><br>
<!-- -->NPCs can reference specific events, locations, or past interactions dynamically.</p>
</li>
<li>
<p><strong>Relationship Decay or Growth</strong><br>
<!-- -->Memories influence long-term emotional state and trust toward other actors, including the player.</p>
</li>
<li>
<p><strong>LLM-Driven Decision-Making</strong><br>
<!-- -->When NPCs choose actions, they can consult recent or emotionally weighted memories to guide their response.</p>
</li>
<li>
<p><strong>Arousal / Reactivity Systems</strong><br>
<!-- -->High-importance or traumatic memories can affect NPC alertness, combat stance, or dialogue tone.</p>
</li>
</ul>
<p>It also supports:</p>
<ul>
<li><strong>Contextual Memory Chaining</strong> – linking memories in dialogue or planning.</li>
<li><strong>Emotional Triggers</strong> – activating responses when a memory matches the current mood or situation.</li>
<li><strong>Filtered Recall</strong> – using YAML or Papyrus-based logic to determine which memories are relevant to the current AI context.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/goncalo22/SkyrimNet-GamePlugin/edit/main/docs/Memory System/Memory Recall.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/SkyrimNet-GamePlugin/Memory System/sqlite-storage"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SQLite storage</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/SkyrimNet-GamePlugin/Prompts/prompts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">System Prompt</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-overview" class="table-of-contents__link toc-highlight">📌 Overview</a><ul><li><a href="#-how-memories-work-in-skyrimnet" class="table-of-contents__link toc-highlight">🧠 How Memories Work in SkyrimNet</a></li></ul></li><li><a href="#-memory-lifecycle" class="table-of-contents__link toc-highlight">🔄 Memory Lifecycle</a><ul><li><a href="#1-event-collection" class="table-of-contents__link toc-highlight">1. <strong>Event Collection</strong></a></li><li><a href="#2-segmentation" class="table-of-contents__link toc-highlight">2. <strong>Segmentation</strong></a></li><li><a href="#3-memory-generation" class="table-of-contents__link toc-highlight">3. <strong>Memory Generation</strong></a></li><li><a href="#4-embedding--storage" class="table-of-contents__link toc-highlight">4. <strong>Embedding &amp; Storage</strong></a></li></ul></li><li><a href="#-memory-retrieval" class="table-of-contents__link toc-highlight">🧠 Memory Retrieval</a><ul><li><a href="#-semantic-vector-search" class="table-of-contents__link toc-highlight">🔎 Semantic Vector Search</a></li><li><a href="#-relevance-scoring-weights" class="table-of-contents__link toc-highlight">🧮 Relevance Scoring Weights</a></li></ul></li><li><a href="#-memory-types" class="table-of-contents__link toc-highlight">🧪 Memory Types</a></li><li><a href="#-use-cases" class="table-of-contents__link toc-highlight">🔥 Use Cases</a></li><li><a href="#-technical-stack" class="table-of-contents__link toc-highlight">🛠 Technical Stack</a></li><li><a href="#-related-tools" class="table-of-contents__link toc-highlight">🧰 Related Tools</a></li><li><a href="#-example-memory" class="table-of-contents__link toc-highlight">📦 Example Memory</a></li><li><a href="#-integration" class="table-of-contents__link toc-highlight">🧩 Integration</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SkyrimNet-GamePlugin/blog">Nexus Mods</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 SkyrimNet, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>