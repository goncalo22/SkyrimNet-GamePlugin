"use strict";(self.webpackChunkskyrimnet_docs=self.webpackChunkskyrimnet_docs||[]).push([[6312],{2726:e=>{e.exports=JSON.parse('{"permalink":"/SkyrimNet-GamePlugin/blog/2025/11/02/beta7-release","editUrl":"https://github.com/goncalo22/SkyrimNet-GamePlugin/edit/main/blog/blog/2025-11-02-beta7-release.md","source":"@site/blog/2025-11-02-beta7-release.md","title":"SkyrimNet Beta7  Released","description":"SkyrimNet Beta7","date":"2025-11-02T00:00:00.000Z","tags":[{"inline":true,"label":"release","permalink":"/SkyrimNet-GamePlugin/blog/tags/release"},{"inline":true,"label":"beta7","permalink":"/SkyrimNet-GamePlugin/blog/tags/beta-7"}],"readingTime":6.5,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"SkyrimNet Beta7  Released","description":"SkyrimNet Beta7","tags":["release","beta7"]},"unlisted":false,"nextItem":{"title":"SkyrimNet Beta6  Released","permalink":"/SkyrimNet-GamePlugin/blog/2025/10/12/beta6-release"}}')},8453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>s});var n=i(6540);const r={},a=n.createContext(r);function o(e){const t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(a.Provider,{value:t},e.children)}},9067:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});var n=i(2726),r=i(4848),a=i(8453);const o={title:"SkyrimNet Beta7  Released",description:"SkyrimNet Beta7",tags:["release","beta7"]},s="Major Features",d={authorsImageUrls:[]},l=[{value:"Backwards Incompatible Prompt Restructuring   @Min",id:"backwards-incompatible-prompt-restructuring---min",level:3},{value:"Overhauled UUID algorithm.    @Min",id:"overhauled-uuid-algorithm----min",level:3},{value:"New Feature: Diaries @Min",id:"new-feature-diaries-min",level:3},{value:"New Feature: Open Mic input mode @Daikichi",id:"new-feature-open-mic-input-mode-daikichi",level:3},{value:"New Feature: ElevenLabs support @Daikichi",id:"new-feature-elevenlabs-support-daikichi",level:3},{value:"New Feature: Silent Dialogue TTS @Daikichi",id:"new-feature-silent-dialogue-tts-daikichi",level:3},{value:"Make LLM parameters optional (Gemini Support) @Daikichi",id:"make-llm-parameters-optional-gemini-support-daikichi",level:3},{value:"Add support for structured outputs @Daikichi",id:"add-support-for-structured-outputs-daikichi",level:3},{value:"Prompt Improvements @Min",id:"prompt-improvements-min",level:3},{value:"New Decorators @Min",id:"new-decorators-min",level:3},{value:"API Improvements",id:"api-improvements",level:3}];function c(e){const t={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"\ud83c\udf89  SkyrimNet Beta 7 Latest"}),"\n",(0,r.jsx)(t.h3,{id:"backwards-incompatible-prompt-restructuring---min",children:"Backwards Incompatible Prompt Restructuring   @Min"}),"\n",(0,r.jsx)(t.p,{children:"The coherency of our system prompt has been mediocre, and has been getting worse as more and more community plugins are developed. In order to improve the quality of LLM roleplay, I have done a one-time backwards incompatible restructuring of our system prompt and character bio."}),"\n",(0,r.jsx)(t.p,{children:"Every mod-added addition to the bio, or system head should number itself accordingly so that the file ends up in the appropriate place in the prompt for consistency. For example, ### Worn Equipment is now nested under ## Appearance & Physical State. I've updated @wind and @Lazy Palm 's mods to follow this convention, though all mod authors are likely to need to rename their files to account for this if they have additions to the character bio or system head sections, in order to ensure that their information is placed at the right spot. Check out the character_bio and system_head folders to reference the new structure."}),"\n",(0,r.jsx)(t.p,{children:"This will result in stronger and more consistent LLM responses, particularly from non-premium models (Though Sonnet and others benefit as well), and provides a solid base for us to build upon moving forward.  Almost every prompt has been touched in the character_bio and system_head submodules"}),"\n",(0,r.jsx)(t.p,{children:"Definitely open to suggestions and feedback on the new system prompt structure. Let me know what folks think."}),"\n",(0,r.jsx)(t.h3,{id:"overhauled-uuid-algorithm----min",children:"Overhauled UUID algorithm.    @Min"}),"\n",(0,r.jsx)(t.p,{children:"There were several sources of drift with the old algorithm that could cause duplicate and/or drifting uuid's.,"}),"\n",(0,r.jsx)(t.p,{children:"I've written a diagnostic feature to detect this problem / migrate the entire database to the new uuid algorithm so that people don't lose events/memories (Like many of you, I also don't like restarting constantly if I can help it  ).,"}),"\n",(0,r.jsx)(t.p,{children:"This should correct cases where actors lost access to their memories and past events. There were a few reasons why this could happen, including adding/removing mods, changing load order, and other factors.,"}),"\n",(0,r.jsx)(t.p,{children:"There is still a remaining source of drift for non-generic actors; Their ref id mutates regularly throughout normal play. I haven't addressed this just yet entirely, and am not sure if I need to or not as of yet. If I do need to address this, you'll be able to use this same tool to migrate to whatever I end up changing without losing data/progress.,"}),"\n",(0,r.jsx)(t.p,{children:"Consider backing up your database before proceeding if you want to be able to revert back to rc6. The database can be found in skse/plugins/SkyrimNet/data/,\r\nTo migrate your database to the new schemas, first:,"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Visit the debug page at ",(0,r.jsx)(t.a,{href:"http://localhost:8080/debug",children:"http://localhost:8080/debug"})]}),"\n",(0,r.jsx)(t.li,{children:"Click the Execute Migration button under the Full UUID Migration section. Feel free to dry run it first with the provided interface. You must wait for this to complete before continuing to play the game."}),"\n",(0,r.jsx)(t.li,{children:"Save, reload, and then Execute Migration once more. Wait for this to complete."}),"\n",(0,r.jsx)(t.li,{children:"Save the game and continue playing."}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"new-feature-diaries-min",children:"New Feature: Diaries @Min"}),"\n",(0,r.jsx)(t.p,{children:"Added UI and experience around generating, viewing, and managing Diary Entries. Diary entries are currently triggered manually, just like dynamic bio updates,"}),"\n",(0,r.jsx)(t.p,{children:"Diary entries are generated based upon recent memories, and recent events.,"}),"\n",(0,r.jsx)(t.p,{children:"Added new model type for this, so that you can use a separate model for diaries. Note: The default for this is Sonnet. If you're cost-adverse, I'd suggest changing this to qwen or deepseek r1.,"}),"\n",(0,r.jsx)(t.p,{children:"Diaries contain their own event type with a proper schema; You can create triggers/etc off of them like anything else. This event is persistent, and exposed only to the actor that made the diary.,"}),"\n",(0,r.jsx)(t.p,{children:"Diary entries create an entry into the memory database with embeddings, so that they can be recalled by the actor later like any other memory.,"}),"\n",(0,r.jsx)(t.p,{children:"New Diary specific configuration: Check out the available options.,"}),"\n",(0,r.jsx)(t.p,{children:"I tested this feature a fair bit, but there may be some rough edges: Send any feedback you may have around this! New diaries for actors that did not previously have one can (currently) only be generated from the Character page or the dashboard.,"}),"\n",(0,r.jsx)(t.h3,{id:"new-feature-open-mic-input-mode-daikichi",children:"New Feature: Open Mic input mode @Daikichi"}),"\n",(0,r.jsx)(t.p,{children:"Adds a toggle hotkey (default unset) to use voice activated input as an alternative to push-to-talk.,"}),"\n",(0,r.jsx)(t.p,{children:"Also changed the default Silence Duration in STTConfig from 500ms to 1000ms (the period of silence required after you speak for the speech to be finalized).,"}),"\n",(0,r.jsx)(t.p,{children:"Added Open Mic VRIK functions as well.,"}),"\n",(0,r.jsx)(t.p,{children:"New Feature: Allow TTS Engine and TTS Language Overrides @Daikichi,"}),"\n",(0,r.jsx)(t.p,{children:"Now you can set specific npcs or groups to use one tts service while everyone else uses the global TTS,"}),"\n",(0,r.jsx)(t.p,{children:"Overrides for the narrator / player thoughts can be done in the VirtualEntities config,"}),"\n",(0,r.jsx)(t.h3,{id:"new-feature-elevenlabs-support-daikichi",children:"New Feature: ElevenLabs support @Daikichi"}),"\n",(0,r.jsx)(t.p,{children:"Meant to be used in combination with the per-npc TTS override to give specific NPCs a very high quality (but expensive) TTS.,"}),"\n",(0,r.jsx)(t.h3,{id:"new-feature-silent-dialogue-tts-daikichi",children:"New Feature: Silent Dialogue TTS @Daikichi"}),"\n",(0,r.jsx)(t.p,{children:"Adds a feature to voice silent NPC lines with TTS (from mods with no voice acting).,"}),"\n",(0,r.jsx)(t.p,{children:"To enable this feature, download Dragonborn Voice Over but disable or delete its DBVO.esp file (no voice pack is needed).,"}),"\n",(0,r.jsx)(t.p,{children:"Lip sync/subtitles and the spoken dialogue may not match up perfectly, though we make our best effort.,"}),"\n",(0,r.jsx)(t.p,{children:"Added a config option to aggressively sync displayed subtitles with the TTS audio. Disabled by default due to some potential UX friction. @Daikichi,"}),"\n",(0,r.jsx)(t.h3,{id:"make-llm-parameters-optional-gemini-support-daikichi",children:"Make LLM parameters optional (Gemini Support) @Daikichi"}),"\n",(0,r.jsx)(t.p,{children:"Setting LLM generation parameters such as top_p to blank now removes them from the request,\r\nThis effectively adds support for Gemini,"}),"\n",(0,r.jsx)(t.h3,{id:"add-support-for-structured-outputs-daikichi",children:"Add support for structured outputs @Daikichi"}),"\n",(0,r.jsx)(t.p,{children:"New flag in OpenRouter Config to enforce JSON output from LLMs (only affects memory generation),\r\nUseful for local model setups (LM Studio),\r\nLimited support via OpenRouter (only some providers),"}),"\n",(0,r.jsx)(t.h3,{id:"prompt-improvements-min",children:"Prompt Improvements @Min"}),"\n",(0,r.jsx)(t.p,{children:"Overhauled Dynamic Bio Update prompt to enforce pruning, and generally avoid wild bio swings. Includes last diary entry.,\r\nAdded length guidelines to book reading events.,\r\nAdded awareness of summoned / reanimated / knocked down / etc states from new decorators.,\r\nTweaked memory generation to add mild length guidelines.,\r\nSmall presentation changes to various prompts.,"}),"\n",(0,r.jsx)(t.h3,{id:"new-decorators-min",children:"New Decorators @Min"}),"\n",(0,r.jsxs)(t.p,{children:["Added has_perk decorator ",(0,r.jsx)(t.code,{children:'{% if has_perk(player.UUID, \\"AdvancedSmithing\\") %}You have advanced smithing!{% endif %},'}),"\r\nAdded get_all_perks decorator"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'metadata.returnInfo.description = "Array of objects with \'editorID\' and \'rank\' properties for each perk"; \r\n metadata.returnInfo.exampleValue = nlohmann::json::array({\r\n      {{"editorID", "AdvancedSmithing"}, {"rank", 1}},\r\n      {{"editorID", "Locksmith"}, {"rank", 2}} });\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Added get_relationship_rank decorator ",(0,r.jsx)(t.code,{children:"{% if get_relationship_rank(player.UUID, npc.UUID) >= 3 %}You are a good friend of John Doe!{% endif %}"})]}),"\n",(0,r.jsxs)(t.p,{children:["Added is_in_combat decorator ",(0,r.jsx)(t.code,{children:"{% if is_in_combat(player.UUID) %}You are in combat!{% endif %}"})]}),"\n",(0,r.jsxs)(t.p,{children:["Added is_capable_of_speech decorator ",(0,r.jsx)(t.code,{children:"{% if is_capable_of_speech(player.UUID) %}This actor is capable of intelligent speech!{% endif %}"})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"has_weapon_drawn"})," - Checks if an actor has their weapons drawn.,\r\n",(0,r.jsx)(t.code,{children:"is_sprinting"})," - True if an actor is sprinting.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_walking"})," - True if an actor is walking.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_sneaking"})," - True if an actor is sneaking.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_swimming"})," - True if an actor is swimming.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_unconscious"})," - True if an actor is unconscious.,"]}),"\n",(0,r.jsxs)(t.p,{children:["Incorporated all of these into a new physical activity prompt, and updated the equipment prompt: ",(0,r.jsx)(t.a,{href:"https://github.com/MinLL/SkyrimNet-GamePlugin/commit/d22f4c2d5c61dd328b5982da8ab483bb217dcb6f",children:"https://github.com/MinLL/SkyrimNet-GamePlugin/commit/d22f4c2d5c61dd328b5982da8ab483bb217dcb6f"}),",\r\n",(0,r.jsx)(t.code,{children:"get_latest_diary_entry"})," - Returns latest diary entry for an actor.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"get_diary_entries"})," - Returns the last N diary entries for an actor.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"get_spell_list"})," - Returns an object containing all spells known by an actor.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_summoned"})," - Returns true if actor is summoned.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_reanimated"})," - Returns true if actor is reanimated.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_knocked_down"})," - Returns true if actor is in essential down or bleedout.,"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"is_hostile_to_actor"})," decorator for checking if one actor is hostile to another. @Min,"]}),"\n",(0,r.jsx)(t.h3,{id:"api-improvements",children:"API Improvements"}),"\n",(0,r.jsx)(t.p,{children:"Sending an empty DirectNarration will trigger a response without leaving anything in the context @Min\r\nParseString Papyrus function now converts variable names to lowercase @Min\r\nAdded new api GetTimeSinceLastAudioEnded() to allow modders to tell how long there has been silence for, for better pacing @Min\r\nAdded new api GenerateDiaryEntry(actor) - Triggers a diary entry for a given actor.,\r\nAdded new api UnregisterAction @Min,\r\nAdded paralysis and brainCondition actor values to decnpc(npc.UUID) @Min"})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);