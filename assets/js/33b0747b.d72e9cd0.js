"use strict";(self.webpackChunkskyrimnet_docs=self.webpackChunkskyrimnet_docs||[]).push([[6861],{7471:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var i=n(8989),s=n(4848),r=n(8453);const a={title:"SkyrimNet Beta9  Released",description:"SkyrimNet Beta9",tags:["release","beta9"]},o="SkyrimNet Beta 9  @everyone",l={authorsImageUrls:[]},d=[{value:"New Features",id:"new-features",level:2},{value:"Tweaks",id:"tweaks",level:2},{value:"Bug Fixes",id:"bug-fixes",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"\ud83c\udf89  SkyrimNet Beta 9 Latest"}),"\n",(0,s.jsx)(t.h2,{id:"new-features",children:"New Features"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"OmniSight System"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'Omnisight is a new image-to-text system providing enhanced environmental awareness by capturing screenshots and submitting them to the LLM for evaluation during player-initiated dialogue and when entering new areas. A new OmniSight page in the UI displays all captured images and descriptions, and a card on the dashboard shows the latest screenshot with description. On default settings this system will passively, substantially improve LLM awareness of your surroundings without active player engagement. The AI will now "See what is happening in the world around you".'}),"\n",(0,s.jsx)(t.li,{children:"Added a hotkey to capture and describe the current target in your crosshair (hold to describe your own character). When an actor has been captured, visual descriptions replace appearance text from actor bios."}),"\n",(0,s.jsx)(t.li,{children:"At default settings, each capture costs less than $0.0004 with multiple configuration options available to control behavior and reduce costs as needed."}),"\n",(0,s.jsx)(t.li,{children:"This system is properly aware of first person versus third person camera perspective, and will attempt to avoid fixating on the player character when in third person view."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/8bd9d0f4-0187-4e90-a647-2affb07a9332",children:"https://github.com/user-attachments/assets/8bd9d0f4-0187-4e90-a647-2affb07a9332"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/30feb7e5-0edd-4a01-873f-c1ea88a7796e",children:"https://github.com/user-attachments/assets/30feb7e5-0edd-4a01-873f-c1ea88a7796e"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Trace Explorer"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Traces are a way to understand what's happening during AI response generation and troubleshoot latency issues. Each request flows through multiple systems with a lot happening in parallel - memory retrieval, context building, LLM calls, post-processing, audio generation, audio playback - and traces let you see exactly where time is being spent."}),"\n",(0,s.jsx)(t.li,{children:"The Trace Explorer displays this information in time span and waterfall views with detailed metadata for each operation, making it easy to identify bottlenecks or understand why a particular response took longer than expected."}),"\n",(0,s.jsx)(t.li,{children:"Currently instruments player-initiated flows (player to NPC, player to self, etc.), with expanded coverage planned for future updates. Traces can be exported and shared for debugging."}),"\n",(0,s.jsx)(t.li,{children:"Building this feature led to discovery and resolution of several performance bottlenecks, improving response speed."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/d49ef476-2ca5-48e1-9e32-51f1f6383808",children:"https://github.com/user-attachments/assets/d49ef476-2ca5-48e1-9e32-51f1f6383808"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/74da7678-afff-47a5-bb4c-7d1aec44eba0",children:"https://github.com/user-attachments/assets/74da7678-afff-47a5-bb4c-7d1aec44eba0"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"MCP Server Integration"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Live game data is now exposed through an MCP (Model Context Protocol) server, running on port 8889 by default. MCP is a standardized way for AI applications to access external data sources - in this case, allowing AI assistants in code editors (like Claude in Cursor) to read your loaded mod data, active quests, and other game state information."}),"\n",(0,s.jsx)(t.li,{children:"This is leveraged by the agentic prompt editor (see below) to automatically build powerful integrations with your installed mods. Additional tools will be added in future updates."}),"\n",(0,s.jsx)(t.li,{children:"If you want to use this with an external editor (normal users can ignore this), add this to your MCP configuration file:"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\r\n  "mcpServers": {\r\n    "skyrimnet": {\r\n      "url": "http://localhost:8889/sse"\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"Additional tools will be added in future updates, and I have quite a bit planned that will leverage this in the future."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"AI Prompt Agent"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"A new AI assistant in the prompt editor helps you write and modify prompts. It can read loaded game/mod data through the MCP server to help build custom integrations with your installed mods."}),"\n",(0,s.jsx)(t.li,{children:"The agent is aware of our Inja template syntax and will self-correct if it produces syntactically invalid output. This significantly streamlines the process of integrating new mods, though it does not 100% automate the process - it goes a long way towards easing it. I'll probably add similar agents to help with trigger and action creation in the future as well."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Example - Updating an existing prompt:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/56a9a065-6ee5-41a5-b813-6e908177c011",children:"https://github.com/user-attachments/assets/56a9a065-6ee5-41a5-b813-6e908177c011"})}),"\n",(0,s.jsx)(t.p,{children:"Example - Building a new integration for Survival Mode:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/d050078f-3067-4b92-a628-f016fd9a7b3c",children:"https://github.com/user-attachments/assets/d050078f-3067-4b92-a628-f016fd9a7b3c"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/fe615f12-cd6c-4cfb-bbbf-6b33deade6f8",children:"https://github.com/user-attachments/assets/fe615f12-cd6c-4cfb-bbbf-6b33deade6f8"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/935be2cd-60b3-4e7f-93ec-76c3025fe1ea",children:"https://github.com/user-attachments/assets/935be2cd-60b3-4e7f-93ec-76c3025fe1ea"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"In-game Hotkey Support"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"MCM-based hotkey configuration is now available, primarily intended for VR and gamepad players. Includes native support for VR controllers, bringing VR support for SkyrimNet up to parity with flatrim keyboard support."}),"\n",(0,s.jsx)(t.li,{children:"Enable this in the MCM to use it instead of the DLL hotkey system (use one or the other, not both). The DLL-based native hotkeys are slightly faster as they don't go through Papyrus, but these are otherwise functionally equivalent."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/user-attachments/assets/763dc4a2-c55b-46fd-9e71-5407d91b15af",children:"https://github.com/user-attachments/assets/763dc4a2-c55b-46fd-9e71-5407d91b15af"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Whitelist/Blacklist Management"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Added wheel menu options to easily add or remove actors from whitelist/blacklist factions directly during gameplay, making it much faster to manage actor permissions on the fly."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"tweaks",children:"Tweaks"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Prompt Engine Enhancements"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The prompt engine has been hardened to handle malformed input (like missing functions/variables) more gracefully, now logging warnings instead of failing the entire template render with errors. Fixed prompt validation in the UI to eliminate false positives by actually using the template engine to parse templates instead of a linter-based approach."}),"\n",(0,s.jsxs)(t.li,{children:["Added support for ",(0,s.jsx)(t.code,{children:"{% raw %}{% endraw %}"})," blocks for escaping content, ",(0,s.jsx)(t.code,{children:"elif"})," statements, and ",(0,s.jsx)(t.code,{children:"{{ variable | function }}"})," notation (Jinja-style). Added common array manipulation functions for easier prompt construction and improved whitespace handling for better readability."]}),"\n",(0,s.jsx)(t.li,{children:"Hash symbol (#) is no longer a reserved character in prompts."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Prompt Quality Improvements"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Significantly reworked main dialogue and roleplay prompts based on community feedback and testing. These changes should result in more natural AI behavior with reduced fixation on specific patterns introduced in earlier versions."}),"\n",(0,s.jsx)(t.li,{children:"Player thoughts and dialogue generation prompts received similar quality improvements. All prompts have been updated to utilize new whitespace rules for better readability."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Skyrim Quest Tracking Improvements"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Refactored the internal quest tracking system for better efficiency. Quest objectives and their completion status are now exposed to template decorators for use in prompts."}),"\n",(0,s.jsx)(t.li,{children:"Added an improved active quest filter to the player thoughts prompt by default, allowing the AI to be aware of your active quests as context without over-fixating on them. I'll play around with conditionally exposing them in other prompts beyond player thoughts in future updates."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Example:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"{% for quest in get_all_active_quests() %}\r\n{% for objective in quest.objectives %}{{ quest.name }}: {{ objective.objectiveText }}{% if objective.isCompleted %} (Completed){% endif %}\r\n{% endfor %}{% endfor %}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Becomes"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"Imperial Introductions: Join the Imperial Legion\r\nBefore the Storm: Talk to Alvor in Riverwood\r\nUnbound: Escape Helgen (Completed)\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Performance & Memory"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Memory search query generation is now non-blocking, improving response times significantly in situations where the query was not already cached. Fixed hybrid memory retrieval to properly use player's last input for thought/transform inputs, which should improve the relevancy of memory recall from the vector database."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"DBVO & Audio"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'Changed "DBVO - Silent NPC TTS" config setting to off by default. Existing players who are not using DBVO should disable this in their game configuration.'}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Template & Scripting"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Added ",(0,s.jsx)(t.code,{children:"has_magic_archetype"}),' decorator for checking if an actor has an entire archetype of magic effects. This allows you to easily check for things like "Calm", "Frenzy", "Reanimation", etc. without having to hardcode checks for every individual magic effect that falls under those categories.']}),"\n",(0,s.jsxs)(t.li,{children:["Added array manipulation functions for easier prompt construction: append, push, insert, pop, remove, clear, reverse, index, count, flatten, keys, values, items, get, has_key. Also added ",(0,s.jsx)(t.code,{children:"JoinStrings"})," utility function for in-template string manipulation."]}),"\n",(0,s.jsx)(t.li,{children:"Migrated variables to use consistent camelCase naming convention moving forward. @vrelk"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Quality of Life"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'Spells containing "SkyrimNet" in their name are now filtered from recent events to reduce clutter.'}),"\n",(0,s.jsx)(t.li,{children:"Added configuration option to allow summoned/reanimated creatures to bypass the actor filter."}),"\n",(0,s.jsx)(t.li,{children:"Reduced the verbosity of logging output - more improvements to this planned for future releases."}),"\n",(0,s.jsx)(t.li,{children:"Added mouse button support for keybinds in the UI."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Local LLM Support"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Added configuration option to disable SSE (Server-Sent Events) to fix support for local LLM users. This was broken in Beta 7 or Beta 8 when we added proper SSE protocol support for OpenAI-compatible endpoints."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"DBVO & Voice Issues"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Fixed crash that occurred when rapidly switching between open mic and voice record functions. Fixed hard crash when using DBVO with Conquest of Skyrim and potentially other mods."}),"\n",(0,s.jsx)(t.li,{children:"Fixed dialogue options not appearing when using Silent NPC TTS mode. Added missing TTS audio for goodbye lines with Silent NPC TTS enabled."}),"\n",(0,s.jsx)(t.li,{children:"Fixed players and NPCs sometimes speaking with the wrong voice when using DBVO with Zonos mod. Stopped DBVO subtitles from being split into segments, which was causing the subtitles to flicker frequently."}),"\n",(0,s.jsx)(t.li,{children:'Changed "voicetype is nullptr" log message from error level to warning level, as it can occur in some situations that are not actually problematic.'}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Character & Actor Issues"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Added mannequins (MannequinRace) to the default blacklists to prevent them from speaking and having memories. Fixed issue where changes to actor bio templates would not reflect properly until restart. Fixed dynamic bio template not being available until restart if some of the subcomponents were edited."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Dialogue & Memory"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Resolved UTF-8 encoding issues with diary entries. Fixed several issues that were causing NPC-to-NPC dialogue to be unreliable in generating responses and misattributing the target to the player instead of the actual NPC being addressed."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Engine & Stability"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Fixed UTF-8 encoding errors when visiting certain locations in Maelstrom mod"}),"\n",(0,s.jsx)(t.li,{children:"Fixed crash that would occur when enabling Kokoro TTS without having its dependencies properly installed."}),"\n",(0,s.jsx)(t.li,{children:"Fixed potential access violation in the audio engine."}),"\n",(0,s.jsx)(t.li,{children:"Fixed issue where mood evaluation requests were ignoring the majority of meta configuration options."}),"\n",(0,s.jsx)(t.li,{children:"Resolved several error handling issues in the template engine introduced by the graceful error handling changes."}),"\n",(0,s.jsx)(t.li,{children:"Fixed several issues that were causing npc -> npc dialogue to be unreliable in generating responses, and misattribute target to the player."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Assorted Tweaks"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Book references in the event history now show only the book title instead of dumping the entire book text, significantly improving performance and token usage."}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(6540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}},8989:e=>{e.exports=JSON.parse('{"permalink":"/SkyrimNet-GamePlugin/blog/2025/11/22/ beta9-release","editUrl":"https://github.com/goncalo22/SkyrimNet-GamePlugin/edit/main/blog/blog/2025-11-22- beta9-release.md","source":"@site/blog/2025-11-22- beta9-release.md","title":"SkyrimNet Beta9  Released","description":"SkyrimNet Beta9","date":"2025-11-22T00:00:00.000Z","tags":[{"inline":true,"label":"release","permalink":"/SkyrimNet-GamePlugin/blog/tags/release"},{"inline":true,"label":"beta9","permalink":"/SkyrimNet-GamePlugin/blog/tags/beta-9"}],"readingTime":8.02,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"SkyrimNet Beta9  Released","description":"SkyrimNet Beta9","tags":["release","beta9"]},"unlisted":false,"nextItem":{"title":"SkyrimNet Beta8  Released","permalink":"/SkyrimNet-GamePlugin/blog/2025/11/07/beta8-release"}}')}}]);